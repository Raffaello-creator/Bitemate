{"version":3,"file":"cart.js","sources":["../src/js/refs.js","../src/cart.js"],"sourcesContent":["//Обʼєкт з посиланнями на ДОМ елементи\n\nexport const refs = {\n    form: document.querySelector('.search-form'),\n    clearSearchBtn: document.querySelector('.search-form__btn-clear'),\n    listCategories: document.querySelector(\".categories\"),\n    listProducts: document.querySelector(\".products\"),\n    notFound: document.querySelector(\".not-found\"),\n    modal: document.querySelector('.modal'),\n    productModal: document.querySelector(\".modal-product\"),\n    loadMoreBtn: document.querySelector('.load-more__btn'),\n    addToCartBtn: document.querySelector('.modal-product__btn--cart'),\n    addToWishBtn: document.querySelector('.modal-product__btn--wishlist'),\n    cartListCount: document.querySelector('[data-cart-count]'),\n    wishListCount: document.querySelector('[data-wishlist-count]'),\n    totalItemsCount: document.querySelector('[data-count]'),\n    totalItemsPrice: document.querySelector('[data-price]'),\n    cartBuyBtn: document.querySelector('.cart-summary__btn')\n};\n","//Логіка сторінки Cart\nimport axios from \"axios\";\nimport { refs } from \"./js/refs\";\nimport iziToast from \"izitoast\";\n\n\nconst cart = [2, 3, 5, 12, 2];\n\n\nfunction getGoodsByID(id) {\n    return `https://dummyjson.com/products/${id}`\n};\n\n\n\nasync function fetchCart(id) {\n    try {\n        const links = id.map((id) => getGoodsByID(id));\n        const requests = links.map((url) => axios.get(`${url}`));\n        const resps = await Promise.all(requests);\n        const product = resps.map(prod => prod.data);\n\n        const markup = product.map(({ id, images, description, title, brand, category, price }) =>\n            `<li class=\"products__item\" data-id=\"${id}\">\n            <img class=\"products__image\" src=\"${images[0]}\" alt=\"${description}\"/>\n            <p class=\"products__title\">${title}</p>\n            <p class=\"products__brand\"><span class=\"products__brand--bold\">Brand: ${brand}</span></p>\n            <p class=\"products__category\">Category: ${category} </p>\n            <p class=\"products__price\">Price: ${price} $</p>\n        </li>`).join(\"\");\n        refs.listProducts.insertAdjacentHTML('beforeend', markup);\n\n        const totalPrice = resps.map(resp => resp.data.price).reduce((acc, item) => acc + item);\n        refs.totalItemsCount.textContent = cart.length;\n        refs.totalItemsPrice.textContent = `$${totalPrice.toFixed(2)}`;\n\n    }\n    catch (err) {\n        iziToast.error({\n            message: err.message\n        })\n    }\n}\n\nfetchCart(cart)"],"names":["refs","cart","getGoodsByID","id","fetchCart","requests","url","axios","resps","markup","prod","images","description","title","brand","category","price","totalPrice","resp","acc","item","err","iziToast"],"mappings":"2FAEO,MAAMA,EAAO,CAChB,KAAM,SAAS,cAAc,cAAc,EAC3C,eAAgB,SAAS,cAAc,yBAAyB,EAChE,eAAgB,SAAS,cAAc,aAAa,EACpD,aAAc,SAAS,cAAc,WAAW,EAChD,SAAU,SAAS,cAAc,YAAY,EAC7C,MAAO,SAAS,cAAc,QAAQ,EACtC,aAAc,SAAS,cAAc,gBAAgB,EACrD,YAAa,SAAS,cAAc,iBAAiB,EACrD,aAAc,SAAS,cAAc,2BAA2B,EAChE,aAAc,SAAS,cAAc,+BAA+B,EACpE,cAAe,SAAS,cAAc,mBAAmB,EACzD,cAAe,SAAS,cAAc,uBAAuB,EAC7D,gBAAiB,SAAS,cAAc,cAAc,EACtD,gBAAiB,SAAS,cAAc,cAAc,EACtD,WAAY,SAAS,cAAc,oBAAoB,CAC3D,ECZMC,EAAO,CAAC,EAAG,EAAG,EAAG,GAAI,CAAC,EAG5B,SAASC,EAAaC,EAAI,CACtB,MAAO,kCAAkCA,CAAE,EAC/C,CAIA,eAAeC,EAAUD,EAAI,CACzB,GAAI,CAEA,MAAME,EADQF,EAAG,IAAKA,GAAOD,EAAaC,CAAE,CAAC,EACtB,IAAKG,GAAQC,EAAM,IAAI,GAAGD,CAAG,EAAE,CAAC,EACjDE,EAAQ,MAAM,QAAQ,IAAIH,CAAQ,EAGlCI,EAFUD,EAAM,IAAIE,GAAQA,EAAK,IAAI,EAEpB,IAAI,CAAC,CAAE,GAAAP,EAAI,OAAAQ,EAAQ,YAAAC,EAAa,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,MAAAC,CAAO,IAClF,uCAAuCb,CAAE;AAAA,gDACLQ,EAAO,CAAC,CAAC,UAAUC,CAAW;AAAA,yCACrCC,CAAK;AAAA,oFACsCC,CAAK;AAAA,sDACnCC,CAAQ;AAAA,gDACdC,CAAK;AAAA,cACvC,EAAE,KAAK,EAAE,EACfhB,EAAK,aAAa,mBAAmB,YAAaS,CAAM,EAExD,MAAMQ,EAAaT,EAAM,IAAIU,GAAQA,EAAK,KAAK,KAAK,EAAE,OAAO,CAACC,EAAKC,IAASD,EAAMC,CAAI,EACtFpB,EAAK,gBAAgB,YAAcC,EAAK,OACxCD,EAAK,gBAAgB,YAAc,IAAIiB,EAAW,QAAQ,CAAC,CAAC,EAE/D,OACMI,EAAK,CACRC,EAAS,MAAM,CACX,QAASD,EAAI,OACzB,CAAS,CACJ,CACL,CAEAjB,EAAUH,CAAI"}